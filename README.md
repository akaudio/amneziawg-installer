![Ubuntu 24.04](https://img.shields.io/badge/Ubuntu-24.04-orange)
[![License: MIT](https://img.shields.io/badge/License-MIT-blue.svg)](https://github.com/bivlked/amneziawg-installer/blob/main/LICENSE) 
![Status](https://img.shields.io/badge/Status-Active-success)
[![Version](https://img.shields.io/badge/Version-2.1-blue)](https://github.com/bivlked/amneziawg-installer/releases) 

<p align="center">
  <img src="https://www.bondarev.net/awg_logo.jpg" alt="AmneziaWG Installer Logo" width="250">
</p>

<h1 align="center">–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ AmneziaWG</h1>

<p align="center">
  –ù–∞–±–æ—Ä Bash-—Å–∫—Ä–∏–ø—Ç–æ–≤ –¥–ª—è –±—ã—Å—Ç—Ä–æ–π, –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –∏ —É–¥–æ–±–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏,<br>
  –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è VPN-—Å–µ—Ä–≤–µ—Ä–æ–º <strong>AmneziaWG</strong> –Ω–∞ <strong>Ubuntu 24.04 LTS Minimal</strong>.
</p>

<p align="center">
  <a href="#‚ú®-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏">–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏</a> ‚Ä¢
  <a href="#üöÄ-–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç">–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç</a> ‚Ä¢
  <a href="#üñ•Ô∏è-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è">–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è</a> ‚Ä¢
  <a href="#üîß-—É—Å—Ç–∞–Ω–æ–≤–∫–∞">–£—Å—Ç–∞–Ω–æ–≤–∫–∞</a> ‚Ä¢
  <a href="#üë•-—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-–∫–ª–∏–µ–Ω—Ç–∞–º–∏">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</a> ‚Ä¢
  <a href="#‚öôÔ∏è-–¥–µ—Ç–∞–ª–∏-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏">–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è</a> ‚Ä¢
  <a href="#‚ùì-faq">FAQ</a> ‚Ä¢
  <a href="#üìù-–ª–∏—Ü–µ–Ω–∑–∏—è">–õ–∏—Ü–µ–Ω–∑–∏—è</a>
</p>

---

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

* üöÄ **–ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞:** –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ AmneziaWG –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π.
* üîÑ **–í–æ–∑–æ–±–Ω–æ–≤–ª—è–µ–º–æ—Å—Ç—å:** –£—Å—Ç–∞–Ω–æ–≤–∫—É –º–æ–∂–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ –ø—Ä–µ—Ä—ã–≤–∞—Ç—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏) –∏ –≤–æ–∑–æ–±–Ω–æ–≤–ª—è—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω—ã–º –∑–∞–ø—É—Å–∫–æ–º —Å–∫—Ä–∏–ø—Ç–∞.
* üîí **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:**
    * –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–∞–µ—Ä–≤–æ–ª–∞ `UFW` (—Ä–∞–∑—Ä–µ—à–µ–Ω—ã —Ç–æ–ª—å–∫–æ SSH –∏ –ø–æ—Ä—Ç VPN, –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ª–∏–º–∏—Ç—ã –¥–ª—è SSH).
    * –û—Ç–∫–ª—é—á–µ–Ω–∏–µ IPv6 (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è, –Ω–æ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ).
    * –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—Ç—Ä–æ–≥–∏—Ö –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ (`chmod 600/700`) –∫ –∫–ª—é—á–∞–º –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º.
    * –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —è–¥—Ä–∞ (`sysctl`).
    * –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –±–∞–∑–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ `Fail2Ban` –¥–ª—è –∑–∞—â–∏—Ç—ã SSH.
* ‚öôÔ∏è **–ù–∞–¥–µ–∂–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
    * –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ `deb-src`.
    * –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –≤–∫–ª—é—á–∞—è DKMS –º–æ–¥—É–ª—å –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π —è–¥—Ä–∞.
    * –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –∏ `vermagic` –º–æ–¥—É–ª—è —è–¥—Ä–∞ `amneziawg`.
* üîß **–ì–∏–±–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–ª–∏–µ–Ω—Ç–∞:**
    * DNS –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `1.1.1.1` (Cloudflare).
    * PersistentKeepalive –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `33` —Å–µ–∫—É–Ω–¥—ã.
    * **–í—ã–±–æ—Ä —Ä–µ–∂–∏–º–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏** `AllowedIPs` –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ (Amnezia (—É–º–æ–ª—á.), –í–µ—Å—å —Ç—Ä–∞—Ñ–∏–∫, –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π).
* üßë‚Äçüíª **–£–¥–æ–±–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞–º–∏:**
    * –û—Ç–¥–µ–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç `manage_amneziawg.sh` (—Å–∫–∞—á–∏–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏).
    * –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è (`add`), —É–¥–∞–ª–µ–Ω–∏—è (`remove`), –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ (`list`), –ø–µ—Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ñ–∞–π–ª–æ–≤ (`regen`).
    * –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã (`show`, `check`, `restart`, `backup`, `restore`, `modify`).
* üì¶ **–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ:** –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ.
* üîÑ **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è:** –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ —Ä–æ—Ç–∞—Ü–∏–∏ –ª–æ–≥–æ–≤.
* ü©∫ **–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:** –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ—Ç—á–µ—Ç–∞ (`--diagnostic`).
* üóëÔ∏è **–î–µ–∏–Ω—Å—Ç–∞–ª–ª—è—Ü–∏—è:** –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–ª–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è AmneziaWG (`--uninstall`).
* üìù **–ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:** –í—Å–µ —à–∞–≥–∏ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ –ª–æ–≥-—Ñ–∞–π–ª—ã –≤ `/root/awg/`.

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

–ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ –≤–∞—à–µ–º—É **—á–∏—Å—Ç–æ–º—É —Å–µ—Ä–≤–µ—Ä—É Ubuntu 24.04 LTS Minimal** –ø–æ SSH –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ **–æ–¥–Ω—É –∫–æ–º–∞–Ω–¥—É**:

```bash
wget -O - [https://raw.githubusercontent.com/bivlked/amneziawg-installer/main/install_amneziawg.sh](https://raw.githubusercontent.com/bivlked/amneziawg-installer/main/install_amneziawg.sh) | sudo bash
```

> **–í–ù–ò–ú–ê–ù–ò–ï:** –≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ —Å–∫–∞—á–∞–µ—Ç –∏ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç —Å–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å –ø—Ä–∞–≤–∞–º–∏ `root`. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –¥–æ–≤–µ—Ä—è–µ—Ç–µ –∏—Å—Ç–æ—á–Ω–∏–∫—É —Å–∫—Ä–∏–ø—Ç–∞.

---

## üñ•Ô∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

* **–û–°:** –ß–∏—Å—Ç–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ **Ubuntu Server 24.04 LTS Minimal**.
* **–î–æ—Å—Ç—É–ø:** –ü—Ä–∞–≤–∞ `root` (—á–µ—Ä–µ–∑ `sudo`).
* **–ò–Ω—Ç–µ—Ä–Ω–µ—Ç:** –°—Ç–∞–±–∏–ª—å–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ.
* **–†–µ—Å—É—Ä—Å—ã:** ~2-3 –ì–ë –¥–∏—Å–∫–∞, ~512+ –ú–ë –û–ó–£.
* **SSH:** –î–æ—Å—Ç—É–ø –ø–æ SSH. **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ:** –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **–Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ—Ä—Ç SSH** (–æ—Ç–ª–∏—á–Ω—ã–π –æ—Ç 22), **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û** –¥–æ–±–∞–≤—å—Ç–µ –ø—Ä–∞–≤–∏–ª–æ `sudo ufw allow –í–ê–®_–ü–û–†–¢/tcp` **–î–û** –∑–∞–ø—É—Å–∫–∞ —Å–∫—Ä–∏–ø—Ç–∞!

---

## üîß –£—Å—Ç–∞–Ω–æ–≤–∫–∞ (`install_amneziawg.sh`)

–°–∫—Ä–∏–ø—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø–æ–ª–Ω—É—é —É—Å—Ç–∞–Ω–æ–≤–∫—É –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫—É —Å–µ—Ä–≤–µ—Ä–∞.

1.  **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç** –∫–æ–º–∞–Ω–¥–æ–π –∏–∑ —Ä–∞–∑–¥–µ–ª–∞ "–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç".
2.  **–ù–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞:** –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ —Å–∫—Ä–∏–ø—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ –∑–∞–ø—Ä–æ—Å–∏—Ç UDP –ø–æ—Ä—Ç, –ø–æ–¥—Å–µ—Ç—å VPN, —Ä–µ–∂–∏–º –æ—Ç–∫–ª—é—á–µ–Ω–∏—è IPv6 –∏ —Ä–µ–∂–∏–º –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ `AllowedIPs`. –ù–∞–∂–º–∏—Ç–µ `Enter` –¥–ª—è –≤—ã–±–æ—Ä–∞ –∑–Ω–∞—á–µ–Ω–∏–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `/root/awg/setup.conf`. –í—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç–µ –∑–∞–¥–∞—Ç—å –∏—Ö –Ω–µ–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ —á–µ—Ä–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ (—Å–º. `--help`).
3.  **–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏:** –ü–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è **–î–í–ï** –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏. –°–∫—Ä–∏–ø—Ç –≤—ã–≤–µ–¥–µ—Ç **–ó–ê–ú–ï–¢–ù–û–ï** –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –∏ –∑–∞–ø—Ä–æ—Å–∏—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ `[y/N]`. –í–≤–µ–¥–∏—Ç–µ `y` –¥–ª—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏.
4.  **–ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ:** –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ **—Å–Ω–æ–≤–∞ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Ç—É –∂–µ —Å–∞–º—É—é –∫–æ–º–∞–Ω–¥—É** –∏–∑ "–ë—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞". –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Å –Ω—É–∂–Ω–æ–≥–æ —à–∞–≥–∞.
5.  **–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ:** –í—ã —É–≤–∏–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ `–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ AmneziaWG –£–°–ü–ï–®–ù–û –ó–ê–í–ï–†–®–ï–ù–ê!`.

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤:**

* –†–∞–±–æ—á–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è, –ª–æ–≥–∏, –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ —Ñ–∞–π–ª—ã, –±—ç–∫–∞–ø—ã: `/root/awg/`
* –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–µ—Ä–∞: `/etc/amnezia/amneziawg/awg0.conf`
* –°–∫—Ä–∏–ø—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è: `/root/awg/manage_amneziawg.sh` (—Å–∫–∞—á–∏–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

---

## üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞–º–∏ (`manage_amneziawg.sh`)

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞–º–∏. –û–Ω —Å–∫–∞—á–∏–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ.

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**

```bash
sudo bash /root/awg/manage_amneziawg.sh [–û–ü–¶–ò–ò] <–ö–û–ú–ê–ù–î–ê> [–ê–†–ì–£–ú–ï–ù–¢–´]
```

**–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:** (–ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∏ –æ–ø—Ü–∏–∏ —Å–º. `sudo bash /root/awg/manage_amneziawg.sh help`)

| –ö–æ–º–∞–Ω–¥–∞             | –ê—Ä–≥—É–º–µ–Ω—Ç—ã                       | –û–ø–∏—Å–∞–Ω–∏–µ                                                                 | –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫? |
| :------------------ | :------------------------------ | :----------------------------------------------------------------------- | :-----------: |
| `add`               | `<–∏–º—è_–∫–ª–∏–µ–Ω—Ç–∞>`                 | –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞                                                  |      **–î–∞** |
| `remove`            | `<–∏–º—è_–∫–ª–∏–µ–Ω—Ç–∞>`                 | –£–¥–∞–ª–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞                                            |      **–î–∞** |
| `list`              | `[-v]`                          | –°–ø–∏—Å–æ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤ (—Å –¥–æ–ø. –∏–Ω—Ñ–æ –ø—Ä–∏ `-v`)                                   |       –ù–µ—Ç     |
| `regen`             | `[–∏–º—è_–∫–ª–∏–µ–Ω—Ç–∞]`                 | –ü–µ—Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã –∫–ª–∏–µ–Ω—Ç–∞ (–∏–ª–∏ –≤—Å–µ—Ö)                                |       –ù–µ—Ç     |
| `show`              |                                 | –°—Ç–∞—Ç—É—Å `awg show`                                                        |       –ù–µ—Ç     |
| `check` / `status`  |                                 | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞                                              |       –ù–µ—Ç     |
| `restart`           |                                 | –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å AmneziaWG                                           |       -       |
| `backup`            |                                 | –°–æ–∑–¥–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é                                                  |       –ù–µ—Ç     |
| `restore`           | `[–ø—É—Ç—å_–∫_–±—ç–∫–∞–ø—É]`               | –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–∑ –±—ç–∫–∞–ø–∞                                                   |      **–î–∞** |
| `modify`            | `<–∏–º—è> <–ø–∞—Ä–∞–º–µ—Ç—Ä> <–∑–Ω–∞—á–µ–Ω–∏–µ>`   | –ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä –∫–æ–Ω—Ñ–∏–≥–∞ –∫–ª–∏–µ–Ω—Ç–∞                                        |       –ù–µ—Ç     |

> **‚ùóÔ∏è –í–ê–ñ–ù–û:** –ü–æ—Å–ª–µ `add`, `remove`, `restore` **–ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å**: `sudo systemctl restart awg-quick@awg0` (–∏–ª–∏ `sudo bash /root/awg/manage_amneziawg.sh restart`).

**–ü–µ—Ä–µ–Ω–æ—Å —Ñ–∞–π–ª–æ–≤ –∫–ª–∏–µ–Ω—Ç–∞–º:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `scp` –∏–ª–∏ `sftp` –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è `.conf` –∏–ª–∏ `.png` –∏–∑ `/root/awg/`.

---

## ‚öôÔ∏è –î–µ—Ç–∞–ª–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

* **AllowedIPs:** –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–∞–∫–æ–π —Ç—Ä–∞—Ñ–∏–∫ –∫–ª–∏–µ–Ω—Ç–∞ –∏–¥–µ—Ç –≤ VPN. –í—ã–±–∏—Ä–∞–µ—Ç—Å—è –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ:
    * **–†–µ–∂–∏–º 1 (`0.0.0.0/0`):** –í–µ—Å—å IPv4 —Ç—Ä–∞—Ñ–∏–∫. –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å, –º–æ–∂–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å LAN.
    * **–†–µ–∂–∏–º 2 (Amnezia, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é):** –°–ª–æ–∂–Ω—ã–π —Å–ø–∏—Å–æ–∫ –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤ + DNS (`8.8.8.8/32`, `1.1.1.1/32`). –ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ –¥–ª—è –æ–±—Ö–æ–¥–∞ DPI. **–ù–µ –∏—Å–∫–ª—é—á–∞–µ—Ç** LAN.
    * **–†–µ–∂–∏–º 3 (–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π):** –¢–æ–ª—å–∫–æ —É–∫–∞–∑–∞–Ω–Ω—ã–µ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ —Å–µ—Ç–∏.
    * **–ò–∑–º–µ–Ω–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `modify` –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è `AllowedIPs` —É *—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ* –∫–ª–∏–µ–Ω—Ç–∞. –î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è *–ø–æ–≤–µ–¥–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é* –¥–ª—è *–Ω–æ–≤—ã—Ö* –∫–ª–∏–µ–Ω—Ç–æ–≤, –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `ALLOWED_IPS` –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `configure_routing_mode` —Å–∫—Ä–∏–ø—Ç–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ *–ø–µ—Ä–µ–¥* –∑–∞–ø—É—Å–∫–æ–º.
    * **–ò—Å–∫–ª—é—á–µ–Ω–∏–µ —Å–∞–π—Ç–æ–≤:** –ù–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Å–∫—Ä–∏–ø—Ç–æ–º. –¢—Ä–µ–±—É–µ—Ç —Ä—É—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.
* **PersistentKeepalive:** –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ `33`. –ú–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å —á–µ—Ä–µ–∑ `modify`.
* **DNS:** –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ `1.1.1.1`. –ú–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å —á–µ—Ä–µ–∑ `modify`.
* **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –°–º. —Ñ—É–Ω–∫—Ü–∏–∏ `setup_advanced_sysctl`, `setup_improved_firewall`, `setup_fail2ban`.
* **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è:** –°–º. `setup_auto_updates`, `setup_backups`, `setup_log_rotation`. –ë—ç–∫–∞–ø—ã –≤ `/root/awg/backups/`.

---

## ‚ùì FAQ

<details>
  <summary><strong>–í: –ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—Ç AmneziaWG –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏?</strong></summary>
  **–û:** 1. –ò–∑–º–µ–Ω–∏—Ç–µ `ListenPort` –≤ `/etc/amnezia/amneziawg/awg0.conf`. 2. –ò–∑–º–µ–Ω–∏—Ç–µ `AWG_PORT` –≤ `/root/awg/setup.conf`. 3. –û–±–Ω–æ–≤–∏—Ç–µ UFW (`sudo ufw delete ...`, `sudo ufw allow ...`). 4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å. 5. **–ü–µ—Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥–∏ –í–°–ï–• –∫–ª–∏–µ–Ω—Ç–æ–≤** (`... regen`) –∏ –ø–µ—Ä–µ–¥–∞–π—Ç–µ –∏—Ö –∫–ª–∏–µ–Ω—Ç–∞–º.
</details>

<details>
  <summary><strong>–í: –ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é –ø–æ–¥—Å–µ—Ç—å VPN?</strong></summary>
  **–û:** –ü—Ä–æ—â–µ –≤—Å–µ–≥–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –¥–µ–∏–Ω—Å—Ç–∞–ª–ª—è—Ü–∏—é (`--uninstall`) –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–Ω–æ–≤–æ.
</details>

<details>
  <summary><strong>–í: –ë—É–¥–µ—Ç –ª–∏ —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —è–¥—Ä–∞?</strong></summary>
  **–û:** –î–∞, DKMS –¥–æ–ª–∂–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –º–æ–¥—É–ª—å. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `dkms status`.
</details>

<details>
  <summary><strong>–í: –ö–∞–∫ –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª–∏—Ç—å AmneziaWG?</strong></summary>
  **–û:** –ó–∞–ø—É—Å—Ç–∏—Ç–µ: `wget -O - <URL_—Å–∫—Ä–∏–ø—Ç–∞> | sudo bash -s -- --uninstall`
</details>

---

## üõ†Ô∏è –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

1.  **–õ–æ–≥–∏:** `/root/awg/install_amneziawg.log`, `/root/awg/manage_amneziawg.log`
2.  **–°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞:** `sudo systemctl status awg-quick@awg0`
3.  **–ñ—É—Ä–Ω–∞–ª —Å–µ—Ä–≤–∏—Å–∞:** `sudo journalctl -u awg-quick@awg0 -n 50 --no-pager`
4.  **–°—Ç–∞—Ç—É—Å WireGuard:** `sudo awg show`
5.  **–°—Ç–∞—Ç—É—Å UFW:** `sudo ufw status verbose`
6.  **–î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–π –æ—Ç—á–µ—Ç:** –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å —Ñ–ª–∞–≥–æ–º `--diagnostic`.

---

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è –∏ –ê–≤—Ç–æ—Ä

* **–ê–≤—Ç–æ—Ä:** @bivlked - [GitHub](https://github.com/bivlked)
* **–õ–∏—Ü–µ–Ω–∑–∏—è:** MIT License (—Å–º. —Ñ–∞–π–ª `LICENSE` –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏)

### –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏
* –ö–æ–º–∞–Ω–¥–µ [Amnezia VPN](https://github.com/amnezia-vpn) –∑–∞ AmneziaWG.
* –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é [remittor](https://gist.github.com/remittor) –∑–∞ –æ—Å–Ω–æ–≤—É —É—Ç–∏–ª–∏—Ç—ã `awgcfg.py`.

---

<p align="center">
  <a href="#–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è-—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∏-—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-amneziawg">‚Üë –ö –Ω–∞—á–∞–ª—É</a>
</p>
